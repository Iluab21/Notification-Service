# Notification_Service

Сервис управления рассылками API администрирования и получения статистики.

## Функции:

- добавление нового клиента в справочник со всеми его атрибутами
- обновление данных атрибутов клиента
- удаление клиента из справочника
- добавление новой рассылки со всеми её атрибутами
- получение общей статистики по созданным рассылкам и количеству отправленных сообщений по ним с группировкой по статусам
- получение детальной статистики отправленных сообщений по конкретной рассылке
- обновление атрибутов рассылки
- удаление рассылки
- обработка активных рассылок и отправки сообщений клиентам


## Начало работы

- Войти в рабочую директорию командой cd Notification_Service
- Установить зависимости командой pip install -r requirements.txt
- Установить Redis через докер docker run -d -p 6379:6379 redis
- В файле settings.py установить порты для Redis в поля REDIS_HOST и REDIS_PORT
- Настроить ваш JWT токен в settings.py
- Запустить командой python manage.py runserver
- Во втором терминале запустить Celery командой celery -A Notification_Service worker -l info
- На вкладке /docs/ доступна документация Swagger UI по API

## Возможные проблемы:

-Если в Celery воркеры получают задачу, но не выполняют её, попробуйте запустить Celery через celery -A Notification_Service worker -l info -P eventlet
